!function(e){"use strict";var t="left",n="right",i="up",r="down",l="in",u="out",a="none",o="auto",s="swipe",c="pinch",h="tap",p="doubletap",f="longtap",g="horizontal",d="vertical",w="all",v=10,T="start",b="move",S="end",E="cancel",O="ontouchstart"in window,x="TouchSwipe";function y(y,m){var L=O||!m.fallbackToMouseEvents,M=L?"touchstart":"mousedown",D=L?"touchmove":"mousemove",P=L?"touchend":"mouseup",R=L?null:"mouseleave",k="touchcancel",A=0,I=null,N=0,U=0,H=0,_=1,j=0,Q=0,X=null,Y=e(y),C="start",W=0,q=null,F=0,V=0,z=0,G=0,Z=0,B=null;try{Y.bind(M,J),Y.bind(k,ee)}catch(t){e.error("events not supported "+M+","+k+" on jQuery.swipe")}function J(l){if(!0!==Y.data(x+"_intouch")&&!(e(l.target).closest(m.excludedElements,Y).length>0)){var u,a,o=l.originalEvent?l.originalEvent:l,s=O?o.touches[0]:o;if(C=T,O?W=o.touches.length:l.preventDefault(),A=0,I=null,Q=null,N=0,U=0,H=0,_=1,j=0,q=function(){for(var e=[],t=0;t<=5;t++)e.push({start:{x:0,y:0},end:{x:0,y:0},identifier:0});return e}(),(a={})[t]=me(t),a[n]=me(n),a[i]=me(i),a[r]=me(r),X=a,be(),!O||W===m.fingers||m.fingers===w||ce()?(Oe(0,s),F=De(),2==W&&(Oe(1,o.touches[1]),U=H=Me(q[0].start,q[1].start)),(m.swipeStatus||m.pinchStatus)&&(u=re(o,C))):u=!1,!1===u)return re(o,C=E),u;Ee(!0)}}function K(s){var c=s.originalEvent?s.originalEvent:s;if(C!==S&&C!==E&&!Se()){var h,p,f,v,T,x,y=xe(O?c.touches[0]:c);if(V=De(),O&&(W=c.touches.length),C=b,2==W&&(0==U?(Oe(1,c.touches[1]),U=H=Me(q[0].start,q[1].start)):(xe(c.touches[1]),H=Me(q[0].end,q[1].end),q[0].end,q[1].end,Q=_<1?u:l),_=(H/U*1).toFixed(2),j=Math.abs(U-H)),W===m.fingers||m.fingers===w||!O||ce()){if(v=y.start,T=y.end,x=function(e,t){var n=e.x-t.x,i=t.y-e.y,r=Math.atan2(i,n),l=Math.round(180*r/Math.PI);l<0&&(l=360-Math.abs(l));return l}(v,T),function(e,l){if(m.allowPageScroll===a||ce())e.preventDefault();else{var u=m.allowPageScroll===o;switch(l){case t:(m.swipeLeft&&u||!u&&m.allowPageScroll!=g)&&e.preventDefault();break;case n:(m.swipeRight&&u||!u&&m.allowPageScroll!=g)&&e.preventDefault();break;case i:(m.swipeUp&&u||!u&&m.allowPageScroll!=d)&&e.preventDefault();break;case r:(m.swipeDown&&u||!u&&m.allowPageScroll!=d)&&e.preventDefault()}}}(s,I=x<=45&&x>=0?t:x<=360&&x>=315?t:x>=135&&x<=225?n:x>45&&x<135?r:i),A=function(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))}(y.start,y.end),N=Le(),function(e,t){t=Math.max(t,ye(e)),X[e].distance=t}(I,A),(m.swipeStatus||m.pinchStatus)&&(h=re(c,C)),!m.triggerOnTouchEnd||m.triggerOnTouchLeave){var L=!0;if(m.triggerOnTouchLeave){var M={left:(f=(p=e(p=this)).offset()).left,right:f.left+p.outerWidth(),top:f.top,bottom:f.top+p.outerHeight()};L=function(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom}(y.end,M)}!m.triggerOnTouchEnd&&L?C=ie(b):m.triggerOnTouchLeave&&!L&&(C=ie(S)),C!=E&&C!=S||re(c,C)}}else re(c,C=E);!1===h&&re(c,C=E)}}function $(e){var t=e.originalEvent;if(O&&t.touches.length>0)return Te(),!0;Se()&&(W=G),e.preventDefault(),V=De(),N=Le(),ae()?re(t,C=E):m.triggerOnTouchEnd||0==m.triggerOnTouchEnd&&C===b?re(t,C=S):!m.triggerOnTouchEnd&&de()?le(t,C=S,h):C===b&&re(t,C=E),Ee(!1)}function ee(){W=0,V=0,F=0,U=0,H=0,_=1,be(),Ee(!1)}function te(e){var t=e.originalEvent;m.triggerOnTouchLeave&&re(t,C=ie(S))}function ne(){Y.unbind(M,J),Y.unbind(k,ee),Y.unbind(D,K),Y.unbind(P,$),R&&Y.unbind(R,te),Ee(!1)}function ie(e){var t=e,n=oe(),i=ue(),r=ae();return!n||r?t=E:!i||e!=b||m.triggerOnTouchEnd&&!m.triggerOnTouchLeave?!i&&e==S&&m.triggerOnTouchLeave&&(t=E):t=S,t}function re(e,t){var n=void 0;return he()&&pe()||pe()?n=le(e,t,s):(se()&&ce()||ce())&&!1!==n&&(n=le(e,t,c)),ve()&&we()&&!1!==n?n=le(e,t,p):N>m.longTapThreshold&&A<v&&m.longTap&&!1!==n?n=le(e,t,f):1!==W&&O||!isNaN(A)&&0!==A||!de()||!1===n||(n=le(e,t,h)),t===E&&ee(),t===S&&(O?0==e.touches.length&&ee():ee()),n}function le(a,o,g){var d=void 0;if(g==s){if(Y.trigger("swipeStatus",[o,I||null,A||0,N||0,W]),m.swipeStatus&&!1===(d=m.swipeStatus.call(Y,a,o,I||null,A||0,N||0,W)))return!1;if(o==S&&he()){if(Y.trigger("swipe",[I,A,N,W]),m.swipe&&!1===(d=m.swipe.call(Y,a,I,A,N,W)))return!1;switch(I){case t:Y.trigger("swipeLeft",[I,A,N,W]),m.swipeLeft&&(d=m.swipeLeft.call(Y,a,I,A,N,W));break;case n:Y.trigger("swipeRight",[I,A,N,W]),m.swipeRight&&(d=m.swipeRight.call(Y,a,I,A,N,W));break;case i:Y.trigger("swipeUp",[I,A,N,W]),m.swipeUp&&(d=m.swipeUp.call(Y,a,I,A,N,W));break;case r:Y.trigger("swipeDown",[I,A,N,W]),m.swipeDown&&(d=m.swipeDown.call(Y,a,I,A,N,W))}}}if(g==c){if(Y.trigger("pinchStatus",[o,Q||null,j||0,N||0,W,_]),m.pinchStatus&&!1===(d=m.pinchStatus.call(Y,a,o,Q||null,j||0,N||0,W,_)))return!1;if(o==S&&se())switch(Q){case l:Y.trigger("pinchIn",[Q||null,j||0,N||0,W,_]),m.pinchIn&&(d=m.pinchIn.call(Y,a,Q||null,j||0,N||0,W,_));break;case u:Y.trigger("pinchOut",[Q||null,j||0,N||0,W,_]),m.pinchOut&&(d=m.pinchOut.call(Y,a,Q||null,j||0,N||0,W,_))}}return g==h?o!==E&&o!==S||(clearTimeout(B),we()&&!ve()?(Z=De(),B=setTimeout(e.proxy(function(){Z=null,Y.trigger("tap",[a.target]),m.tap&&(d=m.tap.call(Y,a,a.target))},this),m.doubleTapThreshold)):(Z=null,Y.trigger("tap",[a.target]),m.tap&&(d=m.tap.call(Y,a,a.target)))):g==p?o!==E&&o!==S||(clearTimeout(B),Z=null,Y.trigger("doubletap",[a.target]),m.doubleTap&&(d=m.doubleTap.call(Y,a,a.target))):g==f&&(o!==E&&o!==S||(clearTimeout(B),Z=null,Y.trigger("longtap",[a.target]),m.longTap&&(d=m.longTap.call(Y,a,a.target)))),d}function ue(){var e=!0;return null!==m.threshold&&(e=A>=m.threshold),e}function ae(){var e=!1;return null!==m.cancelThreshold&&null!==I&&(e=ye(I)-A>=m.cancelThreshold),e}function oe(){return!m.maxTimeThreshold||!(N>=m.maxTimeThreshold)}function se(){var e=fe(),t=ge(),n=null===m.pinchThreshold||j>=m.pinchThreshold;return e&&t&&n}function ce(){return!!(m.pinchStatus||m.pinchIn||m.pinchOut)}function he(){var e=oe(),t=ue(),n=fe(),i=ge();return!ae()&&i&&n&&t&&e}function pe(){return!!(m.swipe||m.swipeStatus||m.swipeLeft||m.swipeRight||m.swipeUp||m.swipeDown)}function fe(){return W===m.fingers||m.fingers===w||!O}function ge(){return 0!==q[0].end.x}function de(){return!!m.tap}function we(){return!!m.doubleTap}function ve(){if(null==Z)return!1;var e=De();return we()&&e-Z<=m.doubleTapThreshold}function Te(){z=De(),G=event.touches.length+1}function be(){z=0,G=0}function Se(){var e=!1;z&&(De()-z<=m.fingerReleaseThreshold&&(e=!0));return e}function Ee(e){!0===e?(Y.bind(D,K),Y.bind(P,$),R&&Y.bind(R,te)):(Y.unbind(D,K,!1),Y.unbind(P,$,!1),R&&Y.unbind(R,te,!1)),Y.data(x+"_intouch",!0===e)}function Oe(e,t){var n=void 0!==t.identifier?t.identifier:0;return q[e].identifier=n,q[e].start.x=q[e].end.x=t.pageX||t.clientX,q[e].start.y=q[e].end.y=t.pageY||t.clientY,q[e]}function xe(e){var t=function(e){for(var t=0;t<q.length;t++)if(q[t].identifier==e)return q[t]}(void 0!==e.identifier?e.identifier:0);return t.end.x=e.pageX||e.clientX,t.end.y=e.pageY||e.clientY,t}function ye(e){return X[e].distance}function me(e){return{direction:e,distance:0}}function Le(){return V-F}function Me(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))}function De(){return(new Date).getTime()}this.enable=function(){return Y.bind(M,J),Y.bind(k,ee),Y},this.disable=function(){return ne(),Y},this.destroy=function(){return ne(),Y.data(x,null),Y},this.option=function(t,n){if(void 0!==m[t]){if(void 0===n)return m[t];m[t]=n}else e.error("Option "+t+" does not exist on jQuery.swipe.options")}}e.fn.swipe=function(t){var n=e(this),i=n.data(x);if(i&&"string"==typeof t){if(i[t])return i[t].apply(this,Array.prototype.slice.call(arguments,1));e.error("Method "+t+" does not exist on jQuery.swipe")}else if(!(i||"object"!=typeof t&&t))return function(t){!t||void 0!==t.allowPageScroll||void 0===t.swipe&&void 0===t.swipeStatus||(t.allowPageScroll=a);void 0!==t.click&&void 0===t.tap&&(t.tap=t.click);t||(t={});return t=e.extend({},e.fn.swipe.defaults,t),this.each(function(){var n=e(this),i=n.data(x);i||(i=new y(this,t),n.data(x,i))})}.apply(this,arguments);return n},e.fn.swipe.defaults={fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,swipe:null,swipeLeft:null,swipeRight:null,swipeUp:null,swipeDown:null,swipeStatus:null,pinchIn:null,pinchOut:null,pinchStatus:null,click:null,tap:null,doubleTap:null,longTap:null,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:"button, input, select, textarea, .noSwipe"},e.fn.swipe.phases={PHASE_START:T,PHASE_MOVE:b,PHASE_END:S,PHASE_CANCEL:E},e.fn.swipe.directions={LEFT:t,RIGHT:n,UP:i,DOWN:r,IN:l,OUT:u},e.fn.swipe.pageScroll={NONE:a,HORIZONTAL:g,VERTICAL:d,AUTO:o},e.fn.swipe.fingers={ONE:1,TWO:2,THREE:3,ALL:w}}(jQuery);